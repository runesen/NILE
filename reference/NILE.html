<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>NILE estimator — NILE • NILE</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="NILE estimator — NILE" />
<meta property="og:description" content="Method for estimating a nonlinear causal relationship \(X\to Y\)
that is assumed to linearly extrapolate outside of the support
of \(X\)." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



<!-- dependencies from examples -->


  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NILE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/vgn_reproduce_results.html">Reproduce paper results</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/runesen/NILE/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>NILE estimator</h1>
    <small class="dont-index">Source: <a href='https://github.com/runesen/NILE/blob/master/R/source.R'><code>R/source.R</code></a></small>
    <div class="hidden name"><code>NILE.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Method for estimating a nonlinear causal relationship \(X\to Y\)
that is assumed to linearly extrapolate outside of the support
of \(X\).</p>
    </div>

    <pre class="usage"><span class='fu'>NILE</span><span class='op'>(</span>
  <span class='va'>Y</span>,
  <span class='va'>X</span>,
  <span class='va'>A</span>,
  lambda.star <span class='op'>=</span> <span class='st'>"test"</span>,
  intercept <span class='op'>=</span> <span class='cn'>TRUE</span>,
  df <span class='op'>=</span> <span class='fl'>100</span>,
  x.new <span class='op'>=</span> <span class='cn'>NULL</span>,
  test <span class='op'>=</span> <span class='st'>"penalized"</span>,
  p.min <span class='op'>=</span> <span class='fl'>0.05</span>,
  plot <span class='op'>=</span> <span class='cn'>TRUE</span>,
  f.true <span class='op'>=</span> <span class='cn'>NULL</span>,
  par.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  par.a <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  par.cv <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>num.folds <span class='op'>=</span> <span class='fl'>10</span>, optim <span class='op'>=</span> <span class='st'>"optimize"</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Y</th>
      <td><p>A numeric vector with observations from the target variable</p></td>
    </tr>
    <tr>
      <th>X</th>
      <td><p>A numeric vector with observations from the predictor variable</p></td>
    </tr>
    <tr>
      <th>A</th>
      <td><p>A numeric vector with observations from the exogenous variable</p></td>
    </tr>
    <tr>
      <th>lambda.star</th>
      <td><p>either a positive numeric, <code>Inf</code> or <code>"test"</code>;
weight which determines the relative importance of the OLS loss and the TSLS
loss, see details.</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>logical; indicating whether an intercept should be included into
the regression model</p></td>
    </tr>
    <tr>
      <th>df</th>
      <td><p>positive integer; number of basis splines used
to model the nonlinear function \(X\to Y\)</p></td>
    </tr>
    <tr>
      <th>x.new</th>
      <td><p>numeric; x-values at which predictions are desried</p></td>
    </tr>
    <tr>
      <th>test</th>
      <td><p>character; !!!</p></td>
    </tr>
    <tr>
      <th>p.min</th>
      <td><p>numeric between 0 and 1; the significance level at
which the test which determines lambda.star should be tested.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>logical; diagnostic plots</p></td>
    </tr>
    <tr>
      <th>f.true</th>
      <td><p>real-valued function of one variable; If the groundtruth is known,
it can be suplied and will be included in diagnostic plots.</p></td>
    </tr>
    <tr>
      <th>par.x</th>
      <td><p>a list of different parameters determining the \(B\)-spline regression
of \(Y\) onto \(X\)</p><ul>
<li><p><code>breaks</code> numeric vector; knots at which B-spline is placed</p></li>
<li><p><code>num.breaks</code> positive interger; number of knots used (ignored if breaks is supplied)</p></li>
<li><p><code>n.order</code> positive integer; order of B-spline basis (default is 4, which corresponds
to cubic splines)</p></li>
<li><p><code>pen.degree</code> positive integer; 1 corresponds to a penalty on the first,
and 2 (default) corresponds to a penalty on the second order derivative.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>par.a</th>
      <td><p>a list of different parameters determining the B-spline regression
of the residuals \(Y - B(X)\beta\) onto the residuals \(A- ???\) !!!</p><ul>
<li><p><code>breaks</code> same as above</p></li>
<li><p><code>num.breaks</code> same as above</p></li>
<li><p><code>n.order</code> same as above</p></li>
<li><p><code>pen.degree</code> same as above</p></li>
</ul></td>
    </tr>
    <tr>
      <th>par.cv</th>
      <td><p>A list with parameters for the cross-validation procedure.</p><ul>
<li><p><code>num.folds</code> either "leave-one-out" or positive integer; number of CV folds (default = 10)</p></li>
<li><p><code>optim</code> one of "optimize" (default) or "grid.search"; optimization method used for cross-validation.</p></li>
<li><p><code>n.grid</code> positive integer; number of grid points used in grid search</p></li>
</ul></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class AR, containing the following elements</p><ul>
<li><p><code>coefficients</code> estimated splines coefficients for the relationship \(X\to Y\)</p></li>
<li><p><code>residuals</code> prediction residuals</p></li>
<li><p><code>fitted.values</code> fitted values</p></li>
<li><p><code>betaA</code> estimated spline coefficients for the regression of the prediction
residuals onto the variable \(A\)</p></li>
<li><p><code>fitA</code> fitted values for the regression of the prediction
residuals onto the variable \(A\)</p></li>
<li><p><code>Y</code> the response variable</p></li>
<li><p><code>BX</code> basis object holding all relevant information about the B-spline
basis used for the regression \(X\to Y\)</p></li>
<li><p><code>BA</code> basis object holding all relevant information about the B-spline
basis used for the regression of the residuals onto A</p></li>
<li><p><code>ols</code> OLS loss at the estimated parameters</p></li>
<li><p><code>iv</code> TSLS loss at the estimated parameters</p></li>
<li><p><code>ar</code> NILE loss at the estimated parameters, that is,
\(OLS(\theta) + \texttt{lambda.star}\times TSLS(\theta)\)</p></li>
<li><p><code>intercept</code> was an intercept supplied?</p></li>
<li><p><code>lambdaX</code> penalty parameter used for the spline regression
\(X\to Y\)</p></li>
<li><p><code>lambdaA</code> penalty parameter used for the regression of residuals
onto \(A\)</p></li>
<li><p><code>lambda.star</code> the (estimated) value for lambda.star</p></li>
<li><p><code>pred</code> predicted values at the supplied vector x.new</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The NILE estimator can be used to learn a nonlinear causal influence
of a real-valued predictor \(X\) on a real-valued response variable \(Y\).
It exploits an instrumental variable setting; it assumes that the
variable \(A\) is a valid instrument.
The estimator uses B-splines to estimate the nonlinear relationship. It further
assumes that the causal function extrapolates lienarly outside of the empirical support
of \(X\), and can therefore be used to obtain causal predictions (that is, predicted
values for \(Y\) under confounding-removing interventions on \(X\)) even for values of
\(X\) which lie outside the training support.</p>
<p>On a more technical side, the NILE estimator proceeds as follows. First, two B-splines
\(B = (B_1,...,B_{df})\) and \(C = (C_1, ..., C_{df})\)
are constructed, which span the values of \(X\) and \(A\), respectively.
These give rise to the loss functions OLS(\(\theta\)), which
corresponds to the MSE for the prediction residuals \(Y - \theta^T B\), and
TSLS(\(\theta\)),
which are the fitted values of the spline-regression of the residuals
\(Y - \theta^T B\)
onto the spline basis \(C\). The NILE estimator the estimates \(\theta\)
by minimizing the objective function
$$OLS(\theta) + \texttt{lambda.star}\times TSLS(\theta) + PEN(\theta),$$
where PEN(\(\theta\)) is a quadratic penalty term which enforces smoothness.</p>
<p>The parameter <code>lambda.star</code> is chosen as the largest positive value for which the
corresponding solution yields prediction residuals which pass a test for vanishing
product moment with all basis functions \(C_1(A), \dots C_{df}(A)\).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Christiansen R, Pfister N, Jakobsen ME, Gnecco N, Peters J (2020).
&#8220;The difficult task of distribution generalization in nonlinear models.&#8221;
Available from <a href='https://arxiv.org/abs/2006.07433'>https://arxiv.org/abs/2006.07433</a>.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Rune Christiansen <a href='mailto:krunechristiansen@math.ku.dk'>krunechristiansen@math.ku.dk</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>   <span class='va'>n.splines.true</span> <span class='op'>&lt;-</span> <span class='fl'>4</span>
   <span class='va'>fX</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>extrap</span>, <span class='va'>beta</span><span class='op'>)</span><span class='op'>{</span>
     <span class='va'>bx</span> <span class='op'>&lt;-</span> <span class='fu'>splines</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/splines/ns.html'>ns</a></span><span class='op'>(</span><span class='va'>x</span>, knots <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span>from<span class='op'>=</span><span class='va'>extrap</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>, to<span class='op'>=</span><span class='va'>extrap</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span>,
                                      length.out<span class='op'>=</span><span class='op'>(</span><span class='va'>n.splines.true</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>[</span>
                                        <span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='va'>n.splines.true</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>]</span>,
                       Boundary.knots <span class='op'>=</span> <span class='va'>extrap</span><span class='op'>)</span>
     <span class='va'>bx</span><span class='op'>%*%</span><span class='va'>beta</span>
   <span class='op'>}</span>

   <span class='co'># data generating model</span>
   <span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>200</span>
   <span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span>
   <span class='va'>beta0</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n.splines.true</span>, <span class='op'>-</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span>
   <span class='va'>alphaA</span> <span class='op'>&lt;-</span> <span class='va'>alphaEps</span> <span class='op'>&lt;-</span> <span class='va'>alphaH</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>)</span>
   <span class='va'>A</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span>,<span class='op'>-</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span>
   <span class='va'>H</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span>,<span class='op'>-</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span>
   <span class='va'>X</span> <span class='op'>&lt;-</span> <span class='va'>alphaA</span> <span class='op'>*</span> <span class='va'>A</span> <span class='op'>+</span> <span class='va'>alphaH</span> <span class='op'>*</span> <span class='va'>H</span> <span class='op'>+</span> <span class='va'>alphaEps</span><span class='op'>*</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span>,<span class='op'>-</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span>
   <span class='va'>Y</span> <span class='op'>&lt;-</span> <span class='fu'>fX</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>X</span>,extrap<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>.7</span>,<span class='fl'>.7</span><span class='op'>)</span>, beta<span class='op'>=</span><span class='va'>beta0</span><span class='op'>)</span> <span class='op'>+</span> <span class='fl'>.3</span> <span class='op'>*</span> <span class='va'>H</span> <span class='op'>+</span> <span class='fl'>.2</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='va'>n</span>,<span class='op'>-</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span>

   <span class='va'>x.new</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>2</span>,<span class='fl'>2</span>,length.out<span class='op'>=</span><span class='fl'>100</span><span class='op'>)</span>
   <span class='va'>f.new</span> <span class='op'>&lt;-</span> <span class='fu'>fX</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>x.new</span>,extrap<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>.7</span>,<span class='fl'>.7</span><span class='op'>)</span>, beta<span class='op'>=</span><span class='va'>beta0</span><span class='op'>)</span>
   <span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>X</span>,<span class='va'>Y</span>, pch<span class='op'>=</span><span class='fl'>20</span><span class='op'>)</span>
</div><div class='input'>   <span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span><span class='op'>(</span><span class='va'>x.new</span>,<span class='va'>f.new</span>,col<span class='op'>=</span><span class='st'>"#0072B2"</span>,lwd<span class='op'>=</span><span class='fl'>3</span><span class='op'>)</span>
</div><div class='img'><img src='NILE-1.png' alt='' width='700' height='433' /></div><div class='input'>
   <span class='co'>## FIT!</span>
   <span class='va'>fit</span> <span class='op'>&lt;-</span> <span class='fu'>NILE</span><span class='op'>(</span><span class='va'>Y</span>, <span class='co'># response</span>
               <span class='va'>X</span>, <span class='co'># predictors (so far, only 1-dim supported)</span>
               <span class='va'>A</span>, <span class='co'># anchors (1 or 2-dim, although 2-dim is experimental so far)</span>
               lambda.star <span class='op'>=</span> <span class='st'>"test"</span>, <span class='co'># (0 = OLS, Inf = IV, (0,Inf) =</span>
               <span class='co'># nonlinear anchor regression, "test" = NILE)</span>
               test <span class='op'>=</span> <span class='st'>"penalized"</span>,
               intercept <span class='op'>=</span> <span class='cn'>TRUE</span>,
               df <span class='op'>=</span> <span class='fl'>50</span>, <span class='co'># number of splines used for X -&gt; Y</span>
               p.min <span class='op'>=</span> <span class='fl'>0.05</span>, <span class='co'># level at which test for lambda is performed</span>
               x.new <span class='op'>=</span> <span class='va'>x.new</span>, <span class='co'># values at which predictions are required</span>
               plot<span class='op'>=</span><span class='cn'>TRUE</span>, <span class='co'># diagnostics plots</span>
               f.true <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'>fX</span><span class='op'>(</span><span class='va'>x</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>.7</span>,<span class='fl'>.7</span><span class='op'>)</span>, <span class='va'>beta0</span><span class='op'>)</span>, <span class='co'># if supplied, the</span>
               <span class='co'># true causal function is added to the plot</span>
               par.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>lambda<span class='op'>=</span><span class='cn'>NULL</span>, <span class='co'># positive smoothness penalty for X -&gt; Y,</span>
                            <span class='co'># if NULL, it is chosen by CV to minimize out-of-sample</span>
                            <span class='co'># AR objective</span>
                            breaks<span class='op'>=</span><span class='cn'>NULL</span>, <span class='co'># if breaks are supplied, exactly these</span>
                            <span class='co'># will be used for splines basis</span>
                            num.breaks<span class='op'>=</span><span class='fl'>20</span>, <span class='co'># will result in num.breaks+2 splines,</span>
                            <span class='co'># ignored if breaks is supplied.</span>
                            n.order<span class='op'>=</span><span class='fl'>4</span> <span class='co'># order of splines</span>
               <span class='op'>)</span>,
               par.a <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>lambda<span class='op'>=</span><span class='cn'>NULL</span>, <span class='co'># positive smoothness penalty for fit of</span>
                            <span class='co'># residuals onto A. If NULL, we first compute the OLS</span>
                            <span class='co'># fit of Y onto X,</span>
                            <span class='co'># and then choose lambdaA by CV to</span>
                            <span class='co'># minimize the out-of-sample MSE for predicting</span>
                            <span class='co'># the OLS residuals</span>
                            breaks<span class='op'>=</span><span class='cn'>NULL</span>, <span class='co'># same as above</span>
                            num.breaks<span class='op'>=</span><span class='fl'>4</span>, <span class='co'># same as above</span>
                            n.order<span class='op'>=</span><span class='fl'>4</span> <span class='co'># same as above</span>
               <span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "lambda.cv.a =  1.4293232458819"
#&gt; [1] "lambda.cv.x =  0.00159332920036247"
#&gt; [1] "lambda.star.p.uncorr =  3.5873327255249"</div><div class='img'><img src='NILE-2.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Rune Christiansen, Niklas Pfister, Martin Emil Jakobsen, Nicola Gnecco, Jonas Peters.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


